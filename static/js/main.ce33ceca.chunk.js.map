{"version":3,"sources":["components/navigation/navigation.jsx","routes/app.js","components/loader/loader.jsx","router.js","utils/theme/index.js","index.js","utils/storage/index.js","utils/context/image.context.js"],"names":["useStyles","makeStyles","root","flexGrow","position","bottom","width","tabs","index","component","Link","to","icon","map","key","tab","Number","id","a11yProps","withRouter","location","pathname","classes","findIndex","useState","value","setValue","Paper","square","className","Tabs","onChange","event","newValue","variant","indicatorColor","textColor","aria-label","Tab","theme","console","dir","height","menuButton","marginRight","spacing","title","App","children","image","setImage","titleProps","color","useEffect","a","storage","get","sampleImage","img","setupDefaults","Provider","AppBar","Toolbar","Typography","progress","margin","center","display","alignItems","justifyContent","Loader","CircularProgress","delay","ms","Promise","res","setTimeout","RouterConfig","routes","path","lazy","props","basename","process","fallback","exact","createMuiTheme","palette","primary","main","secondary","lightBlue","ThemeProvider","rootElement","document","getElementById","ReactDOM","render","_bind","fn","cxt","bind","parse","JSON","stringify","resolve","getItem","localStorage","setItem","curry","compose","set","delete","ImageContext","createContext"],"mappings":"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","file":"static/js/main.ce33ceca.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n    position: \"fixed\",\r\n    bottom: 0,\r\n    width: \"100%\"\r\n  }\r\n});\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `nav-tab-${index}`,\r\n    \"aria-controls\": `nav-tabpanel-${index}`\r\n  };\r\n}\r\nconst tabs = (index = -1) =>\r\n  [\r\n    {\r\n      component: Link,\r\n      to: \"/filters\",\r\n      icon: [<EditOutlinedIcon />, <EditIcon />]\r\n    },\r\n    {\r\n      component: Link,\r\n      to: \"/\",\r\n      icon: [<HomeOutlinedIcon />, <HomeIcon />]\r\n    },\r\n    {\r\n      component: Link,\r\n      to: \"/settings\",\r\n      icon: [<SettingsOutlinedIcon />, <SettingsIcon />]\r\n    }\r\n  ].map(({ icon, ...tab }, key) => ({\r\n    ...tab,\r\n    icon: icon[Number(key === index)],\r\n    ...a11yProps(key)\r\n  }));\r\n\r\nfunction Navigation({ location: { pathname } }) {\r\n  const classes = useStyles();\r\n  const index = tabs().findIndex(({ to }) => to === pathname);\r\n  const [value, setValue] = useState(index);\r\n\r\n  const handleChange = (event, newValue) => setValue(newValue);\r\n\r\n  return (\r\n    <Paper square className={classes.root}>\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}\r\n        variant=\"fullWidth\"\r\n        indicatorColor=\"secondary\"\r\n        textColor=\"secondary\"\r\n        aria-label=\"icon label tabs example\"\r\n      >\r\n        {tabs(value).map((tab) => (\r\n          <Tab {...tab} {...{ key: tab.to, index }} />\r\n        ))}\r\n      </Tabs>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default withRouter(Navigation);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Navigation from \"../components/navigation\";\r\nimport { sampleImage } from \"../config/default.config.json\";\r\nimport storage from \"../utils/storage\";\r\nimport { ImageContext } from \"../utils/context/image.context\";\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  console.dir(theme);\r\n  return {\r\n    root: {\r\n      flexGrow: 1,\r\n      height: \"100%\",\r\n      width: \"100%\"\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2)\r\n    },\r\n    title: {\r\n      flexGrow: 1\r\n    }\r\n  };\r\n});\r\n\r\nfunction App({ children }) {\r\n  const classes = useStyles();\r\n  const [image, setImage] = useState(null);\r\n  const titleProps = {\r\n    variant: \"h6\",\r\n    color: \"inherit\"\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function setupDefaults() {\r\n      const img = (await storage.get(\"image\")) || sampleImage;\r\n      setImage(img);\r\n    }\r\n    setupDefaults();\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <ImageContext.Provider value={{ image, setImage }}>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <Typography {...titleProps}>Rotoshop</Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        {children}\r\n        <Navigation />\r\n      </div>\r\n    </ImageContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  progress: {\r\n    margin: theme.spacing(2)\r\n  },\r\n  center: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\"\r\n  }\r\n}));\r\n\r\nexport default function Loader() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div classes={classes.center}>\r\n      <CircularProgress className={classes.progress} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Suspense, lazy } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport App from \"./routes/app\";\r\nimport Loader from \"./components/loader\";\r\n\r\nconst delay = ms => new Promise(res => setTimeout(res, ms));\r\n\r\nfunction RouterConfig() {\r\n  const routes = [\r\n    {\r\n      path: \"/filters\",\r\n      component: lazy(async () => {\r\n        await delay(700);\r\n        return import(/* webpackChunkName: \"filters\" */ \"./routes/filters/\");\r\n      })\r\n    },\r\n    {\r\n      path: \"/\",\r\n      component: lazy(async props => {\r\n        await delay(700);\r\n        return import(/* webpackChunkName: \"canvas\" */ \"./routes/canvas/\");\r\n      })\r\n    },\r\n    {\r\n      path: \"/settings\",\r\n      component: lazy(async () => {\r\n        await delay(700);\r\n        return import(/* webpackChunkName: \"settings\" */ \"./routes/settings/\");\r\n      })\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <App>\r\n        <Suspense fallback={<Loader />}>\r\n          <Switch>\r\n            {routes.map((props, key) => (\r\n              <Route exact {...{ key, ...props }} />\r\n            ))}\r\n          </Switch>\r\n        </Suspense>\r\n      </App>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default RouterConfig;\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n// eslint-disable-next-line\r\nimport blueGrey from \"@material-ui/core/colors/blueGrey\";\r\nimport lightBlue from \"@material-ui/core/colors/lightBlue\";\r\n\r\nexport default createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#ffffff\"\r\n    },\r\n    secondary: lightBlue\r\n  }\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport RouteConfig from \"./router\";\r\nimport theme from \"./utils/theme/\";\r\nimport \"./styles.css\";\r\n\r\nconst App = () => (\r\n  <ThemeProvider theme={theme}>\r\n    <RouteConfig />\r\n  </ThemeProvider>\r\n);\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n","import Promise from \"bluebird\";\r\nimport compose from \"lodash/fp/compose\";\r\nimport curry from \"lodash/fp/curry\";\r\n\r\nconst _bind = (fn, cxt) => fn.bind(cxt);\r\n\r\nconst _delete = key => delete localStorage[key];\r\n\r\nconst { parse, stringify } = JSON;\r\nconst resolve = _bind(Promise.resolve, Promise);\r\nconst getItem = _bind(localStorage.getItem, localStorage);\r\nconst setItem = curry(_bind(localStorage.setItem, localStorage));\r\n\r\nconst storage = {\r\n  get: compose(\r\n    resolve,\r\n    parse,\r\n    getItem\r\n  ),\r\n  set: (key, value) =>\r\n    compose(\r\n      resolve,\r\n      setItem(key),\r\n      stringify\r\n    )(value),\r\n  delete: compose(\r\n    resolve,\r\n    _delete\r\n  )\r\n};\r\n\r\nexport default storage;\r\n","import { createContext } from \"react\";\r\n\r\nexport const ImageContext = createContext(null);\r\n"],"sourceRoot":""}