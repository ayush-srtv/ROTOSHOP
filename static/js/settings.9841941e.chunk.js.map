{"version":3,"sources":["config/constants.js","routes/settings/index.js"],"names":["SETTINGS","BRIGHTNESS","SATURATION","CONTRAST","useStyles","makeStyles","theme","root","padding","height","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","margin","spacing","PrettoSlider","withStyles","color","thumb","width","border","marginTop","marginLeft","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","setConfig","debounce","key","value","a","storage","set","Settings","classes","useState","saturation","setSaturation","brightness","setBrightness","contrast","setContrast","useEffect","get","_saturation","_brightness","_contrast","setupDefaults","className","container","item","xs","id","gutterBottom","onChange","event","newValue","aria-labelledby","min","max"],"mappings":"sGAAA,kCAAO,IAAMA,EAAW,CACtBC,WAAY,aACZC,WAAY,aACZC,SAAU,a,2KCMNC,EAAYC,YAAYC,IAAD,CAC3BC,KAAM,CACJC,QAAS,YACTC,OAAQ,qBACRC,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBC,SAAU,SACVC,gBAAiBR,EAAMS,QAAQC,WAAWC,OAE5CC,OAAQ,CACNT,OAAQH,EAAMa,QAAQ,OAIpBC,EAAeC,YAAW,CAC9Bd,KAAM,CACJe,MAAO,UACPb,OAAQ,GAEVc,MAAO,CACLd,OAAQ,GACRe,MAAO,GACPV,gBAAiB,OACjBW,OAAQ,yBACRC,WAAY,EACZC,YAAa,GACb,2BAA4B,CAC1BC,UAAW,YAGfC,OAAQ,GACRC,WAAY,CACVC,KAAM,oBAERC,MAAO,CACLvB,OAAQ,EACRwB,aAAc,GAEhBC,KAAM,CACJzB,OAAQ,EACRwB,aAAc,IA1BGZ,CA4BlBc,KAEGC,EAAYC,IAAQ,uCACxB,WAAOC,EAAKC,GAAZ,SAAAC,EAAA,sEAA4BC,IAAQC,IAAIJ,EAAKC,GAA7C,mFADwB,wDADZ,KAuFCI,UAjFf,WACE,IAAMC,EAAUxC,IADE,EAEkByC,mBAAS,GAF3B,mBAEXC,EAFW,KAECC,EAFD,OAGkBF,mBAAS,KAH3B,mBAGXG,EAHW,KAGCC,EAHD,OAIcJ,mBAAS,GAJvB,mBAIXK,EAJW,KAIDC,EAJC,KA+BlB,OAzBAC,oBAAU,KAAM,4CACd,gCAAAZ,EAAA,sEAC6BC,IAAQY,IAAIrD,IAASE,YADlD,gDACkE,EADlE,cACQoD,EADR,cAE6Bb,IAAQY,IAAIrD,IAASC,YAFlD,iDAEkE,EAFlE,eAEQsD,EAFR,eAG2Bd,IAAQY,IAAIrD,IAASG,UAHhD,kDAG8D,EAH9D,QAGQqD,EAHR,KAIET,EAAcO,GACdL,EAAcM,GACdJ,EAAYK,GANd,6CADc,sBAUd,OAVe,WAAD,wBASdC,GACO,QACN,IAeD,yBAAKC,UAAWd,EAAQrC,MACtB,kBAAC,IAAD,CAAMoD,WAAS,EAACxC,QAAS,GACvB,kBAAC,IAAD,CAAMyC,MAAI,EAACC,GAAI,IACb,yBAAKH,UAAWd,EAAQ1B,QACtB,kBAAC,IAAD,CAAY4C,GAAG,yBAAyBC,cAAY,GAApD,cAGA,kBAAC3C,EAAD,CACEmB,MAAOS,EACPgB,SAlBmB,CAACC,EAAOC,KACrCjB,EAAciB,GACd9B,EAAU,aAAc8B,IAiBdC,kBAAgB,oBAChBC,IAAK,EACLC,IAAK,QAIX,kBAAC,IAAD,CAAMT,MAAI,EAACC,GAAI,IACb,yBAAKH,UAAWd,EAAQ1B,QACtB,kBAAC,IAAD,CAAY4C,GAAG,yBAAyBC,cAAY,GAApD,YAGA,kBAAC3C,EAAD,CACEmB,MAAOW,EACPc,SA5BiB,CAACC,EAAOC,KACnCf,EAAYe,GACZ9B,EAAU,WAAY8B,IA2BZC,kBAAgB,oBAChBC,IAAK,EACLC,IAAK,QAIX,kBAAC,IAAD,CAAMT,MAAI,EAACC,GAAI,IACb,yBAAKH,UAAWd,EAAQ1B,QACtB,kBAAC,IAAD,CAAY4C,GAAG,yBAAyBC,cAAY,GAApD,cAGA,kBAAC3C,EAAD,CACEmB,MAAOO,EACPkB,SAlDmB,CAACC,EAAOC,KACrCnB,EAAcmB,GACd9B,EAAU,aAAc8B,IAiDdC,kBAAgB,oBAChBC,IAAK,EACLC,IAAK","file":"static/js/settings.9841941e.chunk.js","sourcesContent":["export const SETTINGS = {\r\n  BRIGHTNESS: \"brightness\",\r\n  SATURATION: \"saturation\",\r\n  CONTRAST: \"contrast\"\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport debounce from \"lodash/debounce\";\r\nimport storage from \"../../utils/storage/\";\r\nimport { SETTINGS } from \"../../config/constants\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"10px 30px\",\r\n    height: \"calc(100% - 132px)\",\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  margin: {\r\n    height: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nconst PrettoSlider = withStyles({\r\n  root: {\r\n    color: \"#52af77\",\r\n    height: 8\r\n  },\r\n  thumb: {\r\n    height: 24,\r\n    width: 24,\r\n    backgroundColor: \"#fff\",\r\n    border: \"2px solid currentColor\",\r\n    marginTop: -8,\r\n    marginLeft: -12,\r\n    \"&:focus,&:hover,&$active\": {\r\n      boxShadow: \"inherit\"\r\n    }\r\n  },\r\n  active: {},\r\n  valueLabel: {\r\n    left: \"calc(-50% + 4px)\"\r\n  },\r\n  track: {\r\n    height: 8,\r\n    borderRadius: 4\r\n  },\r\n  rail: {\r\n    height: 8,\r\n    borderRadius: 4\r\n  }\r\n})(Slider);\r\nconst DELAY = 1000;\r\nconst setConfig = debounce(\r\n  async (key, value) => await storage.set(key, value),\r\n  DELAY\r\n);\r\n\r\nfunction Settings() {\r\n  const classes = useStyles();\r\n  const [saturation, setSaturation] = useState(0);\r\n  const [brightness, setBrightness] = useState(100);\r\n  const [contrast, setContrast] = useState(0);\r\n\r\n  useEffect(() => {\r\n    async function setupDefaults() {\r\n      const _saturation = (await storage.get(SETTINGS.SATURATION)) || 0;\r\n      const _brightness = (await storage.get(SETTINGS.BRIGHTNESS)) || 0;\r\n      const _contrast = (await storage.get(SETTINGS.CONTRAST)) || 0;\r\n      setSaturation(_saturation);\r\n      setBrightness(_brightness);\r\n      setContrast(_contrast);\r\n    }\r\n    setupDefaults();\r\n    return () => {};\r\n  }, []);\r\n\r\n  const handleSaturationChange = (event, newValue) => {\r\n    setSaturation(newValue);\r\n    setConfig(\"saturation\", newValue);\r\n  };\r\n  const handleBrightnessChange = (event, newValue) => {\r\n    setBrightness(newValue);\r\n    setConfig(\"brightness\", newValue);\r\n  };\r\n  const handleContrastChange = (event, newValue) => {\r\n    setContrast(newValue);\r\n    setConfig(\"contrast\", newValue);\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <div className={classes.margin}>\r\n            <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n              Brightness\r\n            </Typography>\r\n            <PrettoSlider\r\n              value={brightness}\r\n              onChange={handleBrightnessChange}\r\n              aria-labelledby=\"continuous-slider\"\r\n              min={0}\r\n              max={100}\r\n            />\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <div className={classes.margin}>\r\n            <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n              Contrast\r\n            </Typography>\r\n            <PrettoSlider\r\n              value={contrast}\r\n              onChange={handleContrastChange}\r\n              aria-labelledby=\"continuous-slider\"\r\n              min={0}\r\n              max={100}\r\n            />\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <div className={classes.margin}>\r\n            <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n              Saturation\r\n            </Typography>\r\n            <PrettoSlider\r\n              value={saturation}\r\n              onChange={handleSaturationChange}\r\n              aria-labelledby=\"continuous-slider\"\r\n              min={0}\r\n              max={100}\r\n            />\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n"],"sourceRoot":""}